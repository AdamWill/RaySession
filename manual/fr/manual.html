<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>Manuel de RaySession</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Manuel de RaySession</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table des matières</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_exemple_dutilisation_simple">Exemple d&#8217;utilisation simple</a></li>
<li><a href="#_vue_densemble_des_outils_de_la_session">Vue d&#8217;ensemble des outils de la session</a>
<ul class="sectlevel2">
<li><a href="#_ligne_du_haut">Ligne du haut</a></li>
<li><a href="#_ligne_du_bas">Ligne du bas</a></li>
</ul>
</li>
<li><a href="#_vue_densemble_dun_client">Vue d&#8217;ensemble d&#8217;un client</a></li>
<li><a href="#ajout_application">Fenêtre d&#8217;ajout d&#8217;application</a></li>
<li><a href="#ajout_executable">Fenêtre d&#8217;ajout d&#8217;exécutable</a></li>
<li><a href="#proprietes_de_client">Fenêtre de propriétés d&#8217;un client</a>
<ul class="sectlevel2">
<li><a href="#_onglet_général">Onglet <strong>Général</strong></a></li>
<li><a href="#_onglet_nsm">Onglet <strong>NSM</strong></a></li>
<li><a href="#_onglet_ray_hack">Onglet <strong>Ray-Hack</strong></a></li>
</ul>
</li>
<li><a href="#_les_sessions_réseau">Les sessions réseau</a></li>
<li><a href="#ajouter_un_programme_non_fourni">Ajouter un programme non fourni</a></li>
<li><a href="#_importer_une_session_nsm">Importer une session NSM</a></li>
<li><a href="#options_du_demon">Les options du démon</a>
<ul class="sectlevel2">
<li><a href="#raccourcis_dossier_de_session">Fournir des raccourcis du dossier de la session</a></li>
<li><a href="#_cliché_automatique_à_la_sauvegarde">Cliché automatique à la sauvegarde</a></li>
<li><a href="#_mémoire_des_bureaux">Mémoire des bureaux</a></li>
<li><a href="#option_scripts_de_session">Scripts de session</a></li>
<li><a href="#_se_souvenir_de_létat_des_igus">Se souvenir de l&#8217;état des IGUs</a></li>
</ul>
</li>
<li><a href="#cliches">Les clichés</a></li>
<li><a href="#les_scripts_de_session">Les scripts de session</a></li>
<li><a href="#memoire_de_la_configuration_de_jack">Mémoire de la configuration de JACK</a>
<ul class="sectlevel2">
<li><a href="#_dans_quels_cas_lutiliser">Dans quels cas l&#8217;utiliser</a></li>
<li><a href="#_utilisation">Utilisation</a></li>
<li><a href="#_principe_de_fonctionnement">Principe de fonctionnement</a></li>
<li><a href="#_cas_particuliers">Cas particuliers</a></li>
</ul>
</li>
<li><a href="#sous_le_capot">Sous le capot</a></li>
<li><a href="#ray_control">Contrôler RaySession en ligne de commande</a></li>
<li><a href="#_foire_aux_questions">Foire aux questions</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph text-right">
<p><span class="image"><a class="image" href="../en/manual.html"><img src="images/flag_en.jpeg" alt="EN" width="30" height="20"></a></span> <span class="image"><a class="image" href="../fr/manual.html"><img src="images/flag_fr.jpeg" alt="FR" width="40" height="30"></a></span> <span class="image"><a class="image" href="../de/manual.html"><img src="images/flag_de.jpeg" alt="DE" width="30" height="20"></a></span></p>
</div>
<div class="paragraph">
<p><em>pour la version 0.10.0</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>RaySession est un gestionnaire de session audio pour GNU/Linux. Il permet de démarrer dans une même session plusieurs programmes audio, de sauvegarder leurs projets ensemble et ainsi d’éviter de multiples manipulations pour retourner à une configuration donnée.</p>
</div>
<div class="paragraph">
<p>Pour être lancés dans RaySession, il est très largement préférable que ces programmes audio soient compatibles avec le protocole NSM, et beaucoup le sont déjà, entre autres Ardour, Qtractor, Carla, Guitarix, Mamba, Patroneo, ZynAddSubFx&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>RaySession part du principe que votre configuration audio est fonctionnelle pour de la production audio, si ce n’est pas le cas réglez d’abord ce problème et ne perdez pas votre temps à essayer d’utiliser RaySession.</p>
</div>
<div class="paragraph">
<p>Maintenant voyons comment s’en servir.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exemple_dutilisation_simple">Exemple d&#8217;utilisation simple</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour la production audio sous GNU/linux, Il est largement conseillé d’utiliser le serveur JACK. Avant de créer ou de lancer une session, assurez-vous que le serveur JACK tourne, RaySession n’a aucun rapport direct avec JACK, toutefois les programmes que vous allez lancer dans votre session en auront besoin.</p>
</div>
<div class="paragraph">
<p>Prenons un exemple où pour composer un morceau, nous aurons besoin des logiciels Ardour et Guitarix, assurez vous que ces 2 programmes soient installés.</p>
</div>
<div class="paragraph">
<p>Pour créer une nouvelle session, cliquez en haut à gauche sur <strong>Nouvelle Session</strong> (<em>ou Ctrl+N</em>). Apparaît alors une fenêtre de dialogue.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/exemple_nouvelle_session.png" alt="Nouvelle session">
</div>
</div>
<div class="paragraph">
<p>En haut à droite vous apercevez le dossier racine des sessions, c’est là que les sessions seront sauvegardées (une session RaySession étant un dossier contenant un fichier <code>raysession.xml</code>).</p>
</div>
<div class="paragraph">
<p>Rentrez le nom voulu pour cette nouvelle session dans le champ prévu à cet effet. Pour mettre votre nouvelle session dans un sous-dossier, tapez le nom de la manière suivante : <code>sous-dossier/ma session</code> .</p>
</div>
<div class="paragraph">
<p>La boîte à choix multiples de modèles de session vous permet de choisir entre</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un modèle de session vide</p>
</li>
<li>
<p>Un modèle avec mémoire des connexions JACK</p>
</li>
<li>
<p>Un modèle scripté avec mémoire de la configuration de JACK</p>
</li>
<li>
<p>Un modèle avec les scripts de session de base (pour les utilisateurs avancées pourvus de connaissances en script shell)</p>
</li>
<li>
<p>Tous les modèles de session que vous aurez vous-même créés.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dans un premier temps, laissez le modèle sur <strong>Avec mémoire du patch de JACK</strong>, cliquez sur <strong>Ok</strong> pour lancer votre session.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/exemple_session_lancee.png" alt="Session lancée">
</div>
</div>
<div class="paragraph">
<p>La partie session de la fenêtre devient active, en haut est écrit le nom de votre session, et votre session contient déjà un programme client qui s&#8217;appelle <strong>Connexions JACK</strong>. C&#8217;est lui qui sauvegardera et refera les connexions de la baie de brassage de JACK.</p>
</div>
<div class="paragraph">
<p>Pour ajouter Ardour à votre session, cliquez sur le bouton <strong>Application</strong> (ou Ctrl+A), apparaît alors la fenêtre des applications (plus de détails à la rubrique <a href="#ajout_application">Fenêtre d&#8217;ajout d&#8217;application</a>). Dans la partie droite, cherchez Ardour (selon votre version d&#8217;ardour, il est possible qu&#8217;il s&#8217;appelle Ardour5 ou Ardour6) et double-cliquez dessus.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/exemple_ajouter_ardour.png" alt="Ajouter Ardour à la session" width="640" height="480">
</div>
</div>
<div class="paragraph">
<p>Un client <strong>Ardour</strong> apparaît en dessous de <strong>Connexions JACK</strong> et Ardour démarre (normalement directement avec une session Ardour vide).</p>
</div>
<div class="paragraph">
<p>Faites de même avec Guitarix.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/exemple_session_prete.png" alt="Session prête avec Ardour et Guitarix">
</div>
</div>
<div class="paragraph">
<p>Dans Ardour, ajoutez une piste (Menu: Piste &#8594; Ajouter une piste), dans la fenêtre Ardour qui est apparue, nommez la piste <em>Guitare</em> et mettez la boîte à choix multiples <strong>configuration</strong> sur <em>Stereo</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/exemple_ardour_piste.png"><img src="images/exemple_ardour_piste.png" alt="Ajouter une piste Ardour pour Guitarix" width="640" height="480"></a>
</div>
</div>
<div class="paragraph">
<p>Dans votre baie de brassage (Catia, QJackCtl ou autre) ou dans Ardour, connectez l&#8217;entrée de Guitarix à une entrée matérielle et  les sorties de Guitarix vers les entrées de cette nouvelle piste Ardour. Assurez vous que les entrées de votre piste <strong>Guitare</strong> ne sont pas connectées aux entrées matérielles.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/exemple_catia.png"><img src="images/exemple_catia.png" alt="Baie de brassage avec Catia"></a>
</div>
</div>
<div class="paragraph">
<p>Voilà, vous avez une configuration où vous pouvez enregistrer directement le son de votre guitare traité par Guitarix dans Ardour. Si vous n&#8217;avez pas de guitare, vous n&#8217;avez qu&#8217;à chanter faux dans un micro ou taper sur un coussin, ce n&#8217;est ici qu&#8217;un exemple.</p>
</div>
<div class="paragraph">
<p>Retournez maintenant à la fenêtre de RaySession, et sauvegardez la session en cours en cliquant sur le bouton en forme de disquette vers le haut à droite (<em>ou Ctrl+S</em>). Il est vivement recommandé car très pratique d&#8217;affecter un raccourci clavier global de votre système à la sauvegarde de la session en cours. Celà dependra de votre environnement de bureau, mais il suffit d&#8217;affecter le raccourci <em>Ctrl+Meta+S</em> à la commande <code>ray_control save</code> (Meta est la touche Windows), ainsi vous n&#8217;aurez pas à retourner à la fenêtre de RaySession pour sauvegarder la session.</p>
</div>
<div class="paragraph">
<p>Maintenant, fermez la session en cliquant sur la croix rouge en haut à droite (<em>ou Ctrl+W</em>).</p>
</div>
<div class="paragraph">
<p>Une fois la session fermée, cliquez sur <strong>Ouvrir une session</strong> (<em>ou Ctrl+O</em>), double-cliquez sur la session que vous venez de créer pour la ré-ouvrir.</p>
</div>
<div class="paragraph">
<p>Vous devez retrouver les programmes et leur projet ainsi que les connexions de JACK telles qu&#8217;elles étaient quand vous avez fermé la session, et tout fonctionne donc sans aucune autre manipulation.<br>
Un des avantages de la modularité dans ce cas précis, c&#8217;est qu&#8217;une fois qu&#8217;on aura terminé les prises de guitare, on pourra arrêter Guitarix pour ne pas surcharger le processeur inutilement, et il sera tout de même facile de le redémarrer si besoin.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vue_densemble_des_outils_de_la_session">Vue d&#8217;ensemble des outils de la session</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ligne_du_haut">Ligne du haut</h3>
<div class="imageblock">
<div class="content">
<img src="images/session_ligne_du_haut.png" alt="Ligne du haut de la trame de session">
</div>
</div>
<div class="paragraph">
<p>De gauche à droite:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le bouton menu vous donne accès à</p>
<div class="ulist">
<ul>
<li>
<p><strong><em>sauvegarder la session en cours comme modèle</em></strong><br>
Le modèle de session créé apparaîtra alors dans la boîte à choix multiples de modèles de session dans la fenêtre de dialogue <strong>Nouvelle Session</strong>. Attention toutefois, L&#8217;ensemble des fichiers de la session seront sauvegardés dans le modèle, il ne faut donc pas le faire si la session contient beaucoup de fichiers audios. D&#8217;une part la copie sera longue, d&#8217;autre part vous risquez de multi-copier inutilement des fichiers qui prendront beaucoup de place.</p>
</li>
<li>
<p><strong><em>Dupliquer la session en cours</em></strong><br>
C&#8217;est l&#8217;équivalent du bien connu "Sauvegarder sous&#8230;&#8203;", sauf que RaySession est obligé d&#8217;arrêter et de redémarrer la plupart des programmes pour passer d&#8217;une session à l&#8217;autre. Évitez de dupliquer une session avec beaucoup de fichiers audios, celà pourrait être long, mais fort heureusement une telle opération peut être annulée.</p>
</li>
<li>
<p><strong><em>Renommer la session</em></strong><br>
Il faudra alors arrêter tous les clients.<br>
Alternativement, vous pouvez renommer une session en la dupliquant puis en supprimant le dossier de la session initiale.<br>
Vous pouvez aussi renommer une session en renommant son dossier, mais ATTENTION, cette session ne doit surtout pas être chargée !</p>
</li>
</ul>
</div>
</li>
<li>
<p>le bouton en forme de crayon vous donne accès aux notes de session.<br>
Écrivez ici des informations dont vous avez besoin, des réglages physiques, les paroles d&#8217;une chanson, la recette du cassoulet de mamie&#8230;&#8203;toutefois n&#8217;y écrivez pas un roman en 3 tomes, d&#8217;autres outils sont bien plus adaptés, et les notes sont limitées à 65000 caractères pour des raisons techniques.<br>
Le crayon est vert quand des notes existent, il est orange quand la fenêtre de notes est ouverte, sinon il est transparent.</p>
</li>
<li>
<p>le nom de la session chargée (ici <strong>ma session</strong>)</p>
</li>
<li>
<p>le bouton <strong>Abandonner la session</strong> qui permet de fermer la session sans la sauvegarder</p>
</li>
<li>
<p>le bouton <strong>Fermer la session</strong>, qui sauvegarde et ferme la session en cours.<br>
Notez que vous n&#8217;avez pas besoin de fermer la session en cours pour en ouvrir une autre. Certains clients sont capables de basculer d&#8217;une session à l&#8217;autre et ça peut être beaucoup moins long que de tout fermer pour tout relancer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ligne_du_bas">Ligne du bas</h3>
<div class="imageblock">
<div class="content">
<img src="images/session_ligne_du_bas.png" alt="Ligne du bas de la trame de session">
</div>
</div>
<div class="paragraph">
<p>De gauche à droite:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le bouton en forme de dossier pour ouvrir le dossier de la session avec votre gestionnaire de fichiers</p>
</li>
<li>
<p>le bouton en forme d&#8217;étoile jaune qui déroule un menu contenant vos applications favorites s&#8217;il y en a</p>
</li>
<li>
<p>le bouton <strong>Application</strong> qui permet d&#8217;ajouter à la session un modèle d&#8217;application d&#8217;usine ou que vous aurez créé vous même. C&#8217;est la méthode conseillée pour ajouter un client. voir <a href="#ajout_application">Fenêtre d&#8217;ajout d&#8217;application</a>.</p>
</li>
<li>
<p>le bouton <strong>Exécutable</strong> qui permet d&#8217;ajouter à la session un programme depuis son exécutable. Vous en aurez besoin si vous souhaiter ajouter un programme pour lequel il n&#8217;existe pas de modèle. voir <a href="#ajout_executable">Fenêtre d&#8217;ajout d&#8217;exécutable</a>.</p>
</li>
<li>
<p>le bouton de marche arrière pour revenir à un état précédent de la session. Celà nécessite d&#8217;avoir le programme <code>git</code> installé, sinon ce bouton n&#8217;apparaîtra pas.<br>
Voir <a href="#cliches">Les clichés</a> pour plus de détails.</p>
</li>
<li>
<p>l&#8217;indicateur d&#8217;état du serveur.<br>
Les états du serveur peuvent être en réalité très furtifs, mais ils sont affichés pendant un temps suffisament long pour que vous puissiez les voir.<br>
L&#8217;état du serveur peut être:</p>
<div class="ulist">
<ul>
<li>
<p><strong>éteint</strong> : pas de session en cours</p>
</li>
<li>
<p><strong>prêt</strong> : la session est en cours</p>
</li>
<li>
<p><strong>lancement</strong> : lancement des programmes de la session</p>
</li>
<li>
<p><strong>copie</strong> : une copie est en cours, pour une duplication de session ou une sauvegarde de la session comme modèle</p>
</li>
<li>
<p><strong>fermeture</strong> : la session est en train de se fermer</p>
</li>
<li>
<p><strong>cliché</strong> : un cliché de la session est en train d&#8217;être pris, donc vous pourrez revenir à l&#8217;état actuel la session.<br>
voir <a href="#cliches">Les clichés</a>.</p>
</li>
<li>
<p><strong>attente</strong> : Le serveur attend que vous fermiez vous-même des programmes non sauvegardables</p>
</li>
<li>
<p><strong>script</strong> : un script est actionné</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Une fenêtre d&#8217;information ou de progression s&#8217;affiche si vous cliquez sur cet indicateur d&#8217;état s&#8217;il est sur <strong>copie</strong>, <strong>cliché</strong> ou <strong>attente</strong>.</p>
</div>
</li>
<li>
<p>le bouton de sauvegarde de la session</p>
</li>
<li>
<p>la corbeille, vous trouverez ici les clients que vous avez supprimés. Vous pourrez alors les restaurer dans la session ou supprimer définitivement tous les fichiers qu&#8217;ils ont créé dans le dossier de la session.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vue_densemble_dun_client">Vue d&#8217;ensemble d&#8217;un client</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/client_carla.png" alt="trame d&#8217;un client">
</div>
</div>
<div class="paragraph">
<p>Un client contient de gauche à droite:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>L&#8217;icône du client sur laquelle vous pouvez cliquer pour faire apparaître un menu avec les actions suivantes</p>
<div class="ulist">
<ul>
<li>
<p><strong>Sauvegarder comme modèle d&#8217;application</strong><br>
Le modèle créé apparaîtra alors dans la <a href="#ajout_application">Fenêtre d&#8217;ajout d&#8217;application</a>. Celà permet par la suite de lancer directement un client avec la configuration souhaitée (Ardour avec telles pistes, Hydrogen avec tel kit de batterie&#8230;&#8203;). Attention, celà copie tous les fichiers du client donc évitez de le faire si le client contient beaucoup de fichiers audio.</p>
</li>
<li>
<p><strong>Renommer</strong><br>
Changer le nom du client situé à droite de son icône, il s&#8217;agit d&#8217;un nom purement visuel qui peut vous aider à retrouver vos moutons</p>
</li>
<li>
<p><strong>retourner à un état précédent</strong><br>
Permet de faire revenir uniquement le client à un état antérieur de la session, voir <a href="#cliches">Les clichés</a>.<br>
Vous ne pourrez toutefois pas revenir à un état antérieur à un renommage de la session, pour celà il faut faire revenir toute la session en arrière.</p>
</li>
<li>
<p><strong>Propriétés</strong><br>
Affiche la fenêtre des propriétés du client</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ce menu est aussi accessible par clique droit n&#8217;importe où sur le client</p>
</div>
</li>
<li>
<p>Le nom du client (ici <strong>Carla</strong>), qui peut-être changé facilement par clique droit &#8594; renommer</p>
</li>
<li>
<p>selon le type et les capacités du client vous pouvez voir ici</p>
<div class="ulist">
<ul>
<li>
<p>un oeil (éventuellement barré), celà signifie que le client est compatible NSM et qu&#8217;il est capable d&#8217;afficher ou cacher sa fenêtre en cliquant sur l&#8217;oeil.</p>
</li>
<li>
<p>un bouton <strong>Hack</strong>, celà signifie que le client n&#8217;est pas compatible NSM, en tout cas qu&#8217;il n&#8217;est pas lancé avec ce protocole. Cliquer sur Hack permet de changer la façon dont il est lancé en ouvrant la fenêtre de propriétés du client sur l&#8217;onglet Ray-Hack</p>
</li>
</ul>
</div>
</li>
<li>
<p>Le bouton <strong>Démarrer</strong> qui est grisé si le client est déjà démarré</p>
</li>
<li>
<p>le bouton <strong>Arrêté</strong> qui est grisé si le client n&#8217;est pas démarré. Si vous arrêtez le client et qu&#8217;il n&#8217;est toujours pas arrêté après un certain temps, le bouton devient rouge et vous pouvez cliquer dessus pour tuer le client. Mais restez détendus, et ne l&#8217;utilisez que si vraiment il vous semble complètement inerte, celà pourrait causer des problèmes, même si a priori personne ne vous enverra en prison.</p>
</li>
<li>
<p>l&#8217;état du client qui peut être</p>
<div class="ulist">
<ul>
<li>
<p><strong>arrêté</strong> : le client est arrêté</p>
</li>
<li>
<p><strong>prêt</strong> : il est lancé et fonctionnel</p>
</li>
<li>
<p><strong>ouverture</strong> : le programme est en train d&#8217;ouvrir son projet, patientez un peu</p>
</li>
<li>
<p><strong>fermeture</strong> : le programme est en train de se fermer</p>
</li>
<li>
<p><strong>lancé</strong> : s&#8217;il reste sur l&#8217;état lancé, celà signifie</p>
<div class="ulist">
<ul>
<li>
<p>si c&#8217;est un client Ray-Hack, qu&#8217;il n&#8217;a pas de fichier de configuration</p>
</li>
<li>
<p>s&#8217;il est lancé comme un client NSM, qu&#8217;il n&#8217;est pas compatible NSM, et qu&#8217;ainsi toute sauvegarde est vaine. Il peut être pratique de lancer de cette façon certains programmes tels qu&#8217;une baie de brassage (Catia) ou un utilitaire dont on n&#8217;a pas besoin de sauvegarder l&#8217;état (Qrest).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>bascule</strong> : le client change de projet pendant un changement de session</p>
</li>
</ul>
</div>
</li>
<li>
<p>le bouton en forme de disquette qui permet de sauvegarder le client.<br>
Si par dessus cette disquette vous voyez</p>
<div class="ulist">
<ul>
<li>
<p>trois points rouges: le client contient des changements non sauvegardés</p>
</li>
<li>
<p>un V vert: le client ne contient pas de changements non sauvegardés</p>
</li>
<li>
<p>un point d&#8217;exclamation orange: Ce n&#8217;est pas un client NSM, et il est impossible de sauvegarder son projet, vous devrez le faire vous même</p>
</li>
</ul>
</div>
</li>
<li>
<p>la croix rouge qui permet d&#8217;envoyer le client à la corbeille</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ajout_application">Fenêtre d&#8217;ajout d&#8217;application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le fenêtre d&#8217;ajout d&#8217;application se lance en cliquant sur le bouton <strong>Application</strong> (<em>ou Ctrl+A</em>).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajout_application.png" alt="Fenêtre d&#8217;ajout d&#8217;application">
</div>
</div>
<div class="paragraph">
<p>La liste des applications disponibles est à droite. Si le logiciel que vous souhaitez lancer n&#8217;est pas présent ici, regardez <a href="#ajouter_un_programme_non_fourni">Ajouter un programme non fourni</a>.</p>
</div>
<hr>
<div class="paragraph">
<p>En haut à gauche, c&#8217;est le bloc de filtres</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajout_application_filtre.png" alt="Bloc de filtre de la fenêtre d&#8217;ajout d&#8217;application">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>le champ de filtre permet de rentrer une chaîne de caractères, seuls les modèles contenant cette chaîne de caractères dans leur nom apparaîtront.</p>
</li>
<li>
<p>la case à cocher <strong>Usine</strong> affiche les modèles intégrés à RaySession ou fournis par votre distribution</p>
</li>
<li>
<p><strong>utilisateur</strong> affiche les modèles créés par l&#8217;utilisateur en faisant <strong>Sauvegarder comme modèle d&#8217;application</strong></p>
</li>
<li>
<p><strong>NSM</strong> affiche les clients compatibles NSM, ou lancés comme tel (voir <a href="#ajouter_un_programme_non_fourni">Ajouter un programme non fourni</a>)</p>
</li>
<li>
<p><strong>Ray-Hack</strong> affiche les clients lancés sans protocole NSM</p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p>En bas à gauche le bloc d&#8217;informations sur le modèle sélectionné à droite</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajout_application_infos.png" alt="Bloc d&#8217;informations sur le modèle sélectionné">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>en haut à droite de ce bloc, une étoile, cliquez dessus pour l&#8217;ajouter aux favoris ou l&#8217;enlever des favoris</p>
</li>
<li>
<p>Si c&#8217;est un modèle utilisateur, un bouton <strong>Utilisateur</strong> vous permet de supprimer ce modèle</p>
</li>
<li>
<p>le bouton en bas à droite de ce bloc vous permet d&#8217;accéder à toutes les propriétés du modèle, comme dans la <a href="#proprietes_de_client">Fenêtre de propriétés d&#8217;un client</a>, sauf que rien n&#8217;est éditable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Astuce :</strong> Cette fenêtre est conçue pour un ajout d&#8217;application très rapide, et se comporter comme <em>Alt+F2</em> sur votre bureau.<br>
Par exemple, depuis la fenêtre principale de RaySession, pour ajouter Carla tapez <em>Ctrl+A</em>, puis <code>carla</code>, sélectionnez le bon modèle avec les flèches Haut/Bas, puis Entrée.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ajout_executable">Fenêtre d&#8217;ajout d&#8217;exécutable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le fenêtre d&#8217;ajout d&#8217;exécutable se lance en cliquant sur le bouton <strong>Exécutable</strong> (<em>ou Ctrl+E</em>).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajout_executable.png" alt="Fenêtre d&#8217;ajout d&#8217;exécutable">
</div>
</div>
<div class="paragraph">
<p>Vous aurez besoin de passer par cette fenêtre si vous voulez ajouter un client qui n&#8217;apparaît pas dans la liste de la fenêtre d&#8217;ajout d&#8217;application.
Cette fenêtre se présente très simplement, un champ pour rentrer l&#8217;exécutable, une case <strong>Protocole NSM</strong>, un bouton d&#8217;options avancées.</p>
</div>
<div class="paragraph">
<p>Laissez le protocole NSM coché si:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le programme à lancer est compatible NSM (s&#8217;il n&#8217;est pas dans la liste d&#8217;applications, merci de le faire savoir !)</p>
</li>
<li>
<p>le programme à lancer est un utilitaire dont on n&#8217;a aucun besoin de sauvegarder un quelconque projet (QRest, Catia&#8230;&#8203;).<br>
L&#8217;état d&#8217;un tel programme restera sur <strong>lancé</strong> et ne sera jamais <strong>prêt</strong>, c&#8217;est sans importance vu qu&#8217;ils n&#8217;a pas de projet à sauvegarder.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si vous laissez le protocole NSM coché il ne sera pas possible d&#8217;ajouter un exécutable vers un chemin absolu, l&#8217;exécutable doit se situer dans un emplacement prévu à cet effet (vous ne pourrez pas lancer <code>/usr/bin/mon_programme</code>, mais <code>mon_programme</code>). Vous ne pouvez pas rentrer d&#8217;arguments ici, avec ou sans le protocole NSM.</p>
</div>
<div class="paragraph">
<p>Décocher la case <strong>Protocole NSM</strong> revient à lancer le programme avec le pseudo-protocole Ray-Hack.</p>
</div>
<div class="paragraph">
<p>Si vous cliquez sur le bouton d&#8217;options avancées, un bloc options avancées apparaît avec</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajout_executable_plus.png" alt="Fenêtre d&#8217;ajout d&#8217;exécutable avancé">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>la case <strong>Démarrer le client</strong>, si vous la décochez le client sera ajouté mais non lancé</p>
</li>
<li>
<p>la boîte à choix multiple <strong>Mode de préfixe</strong>, celà définit le préfixe du nom des fichiers du client</p>
<div class="ulist">
<ul>
<li>
<p>sur <strong>Nom de la session</strong>, les noms des fichiers commenceront par le nom de la session, c&#8217;est la valeur par défaut</p>
</li>
<li>
<p>sur <strong>Nom du Client</strong>, les noms des fichiers commenceront par le nom fourni par le client lui-même, comme c&#8217;est le cas avec New Session Manager</p>
</li>
<li>
<p>sur <strong>Personnalisé</strong>, les noms des fichiers commenceront par la valeur que vous inscrirez dans le champ <strong>Préfixe</strong> juste en dessous</p>
</li>
</ul>
</div>
</li>
<li>
<p>le champ <strong>Préfixe</strong> qui n&#8217;est actif que si <strong>Mode de Préfixe</strong> est sur <strong>Personnalisé</strong></p>
</li>
<li>
<p>le champ <strong>ID du client</strong> (identifiant du client). Ne rentrez ici que des caractères alphanumériques ou des '_'.<br>
Celà est utile si vous voulez attraper et lancer des projets existants dans la session avec un exécutable. C&#8217;est pratique si vous voulez charger dans la session des projets créés en dehors d&#8217;une session. Aucune méthode ne permet de rendre la chose plus simple, celà dépend énormément du programme utilisé. RaySession vous insultera si vous rentrez un identifiant de client qui existe déjà dans la session.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proprietes_de_client">Fenêtre de propriétés d&#8217;un client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La fenêtre de propriétés d&#8217;un client s&#8217;ouvre depuis le menu du client, en cliquant sur <strong>Propriétés</strong>.</p>
</div>
<div class="paragraph">
<p>La fenêtre des propriétés du client comprend 2 onglets, un onglet <strong>Général</strong> et un onglet spécifique au protocole utilisé par le client.
Selon le protocole du client, le deuxième onglet s&#8217;appelle NSM, Ray-Hack ou Ray-Net.</p>
</div>
<div class="sect2">
<h3 id="_onglet_général">Onglet <strong>Général</strong></h3>
<div class="imageblock">
<div class="content">
<img src="images/proprietes_general.png" alt="Propriétés d&#8217;un client">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Le premier bloc de l&#8217;onglet <strong>Général</strong> affiche l&#8217;identifiant, le protocole, l&#8217;étiquette, la description et l&#8217;icône du client.<br>
Si vous ne les éditez pas, l&#8217;étiquette, la description et l&#8217;icône sont tirées du fichier .desktop associé à l&#8217;exécutable lancé, s&#8217;il a été trouvé.<br>
Si vous tenez à connaître le fichier .desktop utilisé, tapez <code>ray_control client IDENTIFIANT get_properties</code> dans un terminal (en remplaçant IDENTIFIANT par l&#8217;identifiant du client).</p>
</li>
<li>
<p>Ensuite vient le bloc des clichés, voir <a href="#cliches">Les clichés</a>.</p>
</li>
<li>
<p>la case à cocher <strong>Empêcher l&#8217;arrêt sans sauvegarde récente ou possible</strong> concerne la fenêtre qui peut apparaître lorsque vous demandez à un client de s&#8217;arrêter.
Si cette case est décochée, alors le client sera stoppé sans qu&#8217;une fenêtre ne vous prévienne.<br>
Si la case est cochée, la fenêtre vous previendra lorsque</p>
<div class="ulist">
<ul>
<li>
<p>le client est non-sauvegardable depuis RaySession</p>
</li>
<li>
<p>on sait que le client contient des changements non sauvegardés</p>
</li>
<li>
<p>le client semble ne pas avoir été sauvegardé depuis plus d&#8217;une minute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>cocher cette case ou non dépend seulement de l&#8217;importance de la sauvegarde de votre client, à vous de juger. Celà dit, si la fenêtre d&#8217;avertissement vous agace, vous n&#8217;aurez qu&#8217;à cocher la case <strong>Ne plus empêcher l&#8217;arrêt du client</strong> dans cette fenêtre et la case <strong>Empêcher l&#8217;arrêt sans sauvegarde récente ou possible</strong> sera décochée.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_onglet_nsm">Onglet <strong>NSM</strong></h3>
<div class="imageblock">
<div class="content">
<img src="images/proprietes_nsm.png" alt="Propriétés NSM d&#8217;un client">
</div>
</div>
<div class="paragraph">
<p>Le nom du client ici est fourni par le client lui-même.<br>
Les capacités sont celle qui sont transmises par le client à son démarrage. Si le client n&#8217;a pas encore été démarré, ce champ est donc vide.</p>
</div>
<div class="paragraph">
<p>Éditer l&#8217;exécutable permet de changer la commande qui lance le client. Ne le changez que pour un autre exécutable capable de charger le projet du client existant. C&#8217;est utile par exemple si vous avez deux versions d&#8217;Ardour, l&#8217;une se lançant avec la commande <code>ardour</code>, l&#8217;autre avec <code>Ardour6</code>, et que vous voulez changer la version à utiliser.</p>
</div>
<div class="paragraph">
<p>Éditer les arguments est fortement déconseillé, et n&#8217;est surtout pas adapté au chargement d&#8217;un fichier comme argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="_onglet_ray_hack">Onglet <strong>Ray-Hack</strong></h3>
<div class="paragraph">
<p>Si le client est de type Ray-Hack, ici moult champs s&#8217;offrent à vous. Ce n&#8217;est pas forcément une bonne nouvelle, l&#8217;idée est de pouvoir charger dans la session un programme qui n&#8217;est pas (encore) compatible NSM. S&#8217;il est bien implémenté dans le client, le protocole NSM sera toujours bien plus confortable à utiliser et plus fiable que cette bidouille. Ceçi dit, si l&#8217;on peut attendre l&#8217;implémentation NSM dans tous les programmes audio, ce n&#8217;est pas le cas des autres programmes qui peuvent tout de même avoir une utilité dans la session.</p>
</div>
<div class="paragraph">
<p>Le pseudo-protocole Ray-Hack reprend les attributs des proxy (nsm-proxy ou ray-proxy), sauf que le client est lancé directement dans la session.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/proprietes_ray_hack.png" alt="Propriétés Ray-Hack d&#8217;un client">
</div>
</div>
<div class="sect3">
<h4 id="_bloc_de_lancement">Bloc de lancement</h4>
<div class="imageblock">
<div class="content">
<img src="images/ray_hack_lancement.png" alt="ray hack lancement">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>le <strong>Dossier</strong> est le nom du dossier de ce client, dans le dossier de la session. Le programme est lancé depuis ce dossier.</p>
</li>
<li>
<p>L'<strong>Exécutable</strong> est la commande qui lance le programme</p>
</li>
<li>
<p>Le <strong>Fichier de configuration</strong> sera le fichier du projet qu&#8217;on souhaitera ouvrir avec ce programme. Il plus que très recommandé de faire référence à un fichier dans le dossier du client.<br>
La variable <code>$RAY_SESSION_NAME</code> sera automatiquement remplacée par le nom de la session.<br>
Si ce champ est vide, le client restera toujours sur le statut <strong>lancé</strong> et jamais <strong>prêt</strong>. Dans certains cas, il peut donc être utile de taper n&#8217;importe quoi ici plutôt que rien.</p>
</li>
<li>
<p>Le bouton <strong>Naviguer</strong> ouvre une boîte de dialogue pour aller chercher le fichier de projet et remplir le champ <strong>Fichier de configuration</strong></p>
</li>
<li>
<p>Le champ <strong>Arguments</strong> comprend les arguments passés à la commande <strong>Exécutable</strong><br>
les arguments sont découpés comme ils le seraient dans un terminal, n&#8217;oubliez pas les <strong>"</strong> ou les <strong>'</strong> si nécéssaire.<br>
par exemple pour reproduire <code>ma_commande mon_argument_1 "mon argument 2"</code> rentrez <code>ma_commande</code> dans le champ <strong>Exécutable</strong> et `ma_commande mon_argument_1 "mon argument 2"``dans le champ <strong>Arguments</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_bloc_des_signaux">Bloc des signaux</h4>
<div class="imageblock">
<div class="content">
<img src="images/ray_hack_signaux.png" alt="ray hack signaux">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Le <strong>Signal de sauvegarde</strong> ne peut être que rarement utilisé. Il peut être SIGUSR1 pour les programmes compatibles avec le vieux protocole LASH. Sinon laissez le sur <em>Aucun</em>, s&#8217;il n&#8217;y a pas de méthode de sauvegarde, on ne peut pas l&#8217;inventer.</p>
</li>
<li>
<p>Le <strong>Signal d&#8217;extinction</strong> sera généralement <em>SIGTERM</em>. Ne le changez qu&#8217;au cas où ce signal ne ferme pas correctement le programme.</p>
</li>
<li>
<p>si la case <strong>Attendre une fenêtre avant d&#8217;être considéré comme prêt</strong> est cochée, alors le statut du client ne passera sur <strong>prêt</strong> que lorqu&#8217;une fenêtre apparaitra.<br>
Si <code>wmctrl</code> n&#8217;est pas installé, ou que le gestionnaire de fenêtres ne semble pas compatible avec, alors le client passera sur <strong>prêt</strong> une demi-seconde après son lancement.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Avec <code>ray_control</code> vous pouvez affecter d&#8217;autres signaux que ceux proposés dans les boîtes à choix multiple.
Par exemple<br>
<code>ray_control client CLIENT_ID set_properties save_sig:22</code><br>
définira le signal <strong>SIGTTOU</strong> pour la sauvegarde du client CLIENT_ID.
Tapez <code>kill -l</code> pour connaître les signaux disponibles et leurs numéros.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bloc_de_gestion_des_non_sauvegardables">Bloc de gestion des non-sauvegardables</h4>
<div class="imageblock">
<div class="content">
<img src="images/ray_hack_non_sauvegarde.png" alt="ray hack non sauvegarde">
</div>
</div>
<div class="paragraph">
<p>Ce bloc n&#8217;est actif que si le <strong>Signal de sauvegarde</strong> est reglé sur <em>Aucun</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>si la case <strong>Demander à l&#8217;utilisateur de fermer lui-même le programme à la fermeture de la session</strong> est cochée, le client sera alors considéré comme non sauvegardable et un point d&#8217;exclamation orange apparaitra devant son icône de sauvegarde. À la fermeture de la session, RaySession attendra que vous fermiez vous-même le programme car il est impossible de savoir s&#8217;il contient des changements non sauvegardés.</p>
</li>
<li>
<p>Si la case <strong>Essayer de fermer gracieusement la fenêtre</strong> est cochée, alors à la fermeture de la session, RaySession essaiera de fermer la fenêtre comme si vous fermiez la fenêtre du programme. C&#8217;est très pratique lorsque le programme réagit en se fermant s&#8217;il n&#8217;y a pas de changements non sauvegardés et en affichant une fenêtre de confirmation de fermeture dans le cas inverse (la plupart des programmes réagissent de la sorte). Si <code>wmctrl</code> n&#8217;est pas installé ou que le gestionnaire de fenêtres ne semble pas compatible, vous devrez fermer le programme vous même dans tous les cas.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_zone_de_test">Zone de test</h4>
<div class="imageblock">
<div class="content">
<img src="images/ray_hack_zone_test.png" alt="ray hack zone test">
</div>
</div>
<div class="paragraph">
<p>La zone de test vous permet de tester les réglages de lancement, d&#8217;arrêt et de sauvegarde réglés dans cette fenêtre sans avoir à <strong>Sauvegarder les changements</strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_les_sessions_réseau">Les sessions réseau</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Une session réseau permet de lancer une autre session sur une autre machine en même temps que votre session. Ça peut être particulièrement utile si vous utilisez net-jack pour décharger votre machine d&#8217;une partie du DSP, si vous avez des effets gourmands qui tournent sur une autre machine par exemple.</p>
</div>
<div class="paragraph">
<p>Les sessions réseau fonctionnent selon un rapport de maître à esclave. Une session est maîtresse et peut avoir plusieurs sessions esclaves elles-mêmes maîtresses d&#8217;autres esclaves, mais un tel scénario semble complètement farfelu. Organisez vous simplement: un maître, un ou des esclave(s).</p>
</div>
<div class="paragraph">
<p>Pour lancer une session réseau (esclave donc), lancez le modèle d&#8217;application <strong>Network Session</strong> depuis la fenêtre des applications et suivez les instructions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/session_reseau_modele.png" alt="Ajouter une session réseau">
</div>
</div>
<div class="paragraph">
<p>Vous devrez lancer un démon sur la machine distante avec la commande <code>ray-daemon -p 1234</code> (<code>1234</code> est un exemple, mettez le port que vous voulez). Ce démon vous affiche dans le terminal quelque chose sous cette forme:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[ray-daemon]URL : osc.udp://192.168.1.00:1234/
[ray-daemon]      osc.udp://nom-de-machine:1234/
[ray-daemon]ROOT: /home/utilisateur/Ray Sessions reseau</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/session_reseau_invite.png" alt="Configurer une session réseau">
</div>
</div>
<div class="paragraph">
<p>Vous devrez copier dans la fenêtre d&#8217;invitation de la session réseau l&#8217;une des deux URLs. La première (qui commence par <code>osc.udp://192.168.</code>) doit fonctionner à coup sûr, la seconde ne fonctionnera que si le nom de la machine esclave est correctement renseigné dans le fichier <code>/etc/hosts</code> de la machine maître. Toutefois, renseigner le nom de la machine esclave dans <code>/etc/hosts</code> et utiliser la deuxième URL est préférable, parce que l&#8217;adresse en 192.168. bougera si vous branchez votre machine esclave différemment (en filaire, en wifi), ou si vous réinstallez la distribution.</p>
</div>
<div class="paragraph">
<p>Vous avez à présent 2 fenêtres RaySession sur votre machine maître, l&#8217;une contrôle la session maître, l&#8217;autre l&#8217;esclave. Vous reconnaîtrez l&#8217;esclave au fait qu&#8217;elle n&#8217;a ni barre d&#8217;outils (<strong>Nouvelle Session</strong>, <strong>Ouvrir une session</strong>, <strong>Contrôle</strong>), ni boutons <strong>Abandonner la session</strong> et <strong>Fermer la session</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/session_reseau_fenetre_fille.png" alt="session reseau fenetre fille">
</div>
</div>
<div class="paragraph">
<p>La fenêtre esclave est cachable comme c&#8217;est le cas dans beaucoup de programmes NSM.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/session_reseau_client.png" alt="session reseau client">
</div>
</div>
<div class="paragraph">
<p>Si vous lancez <code>raysession -p 1234</code> sur votre machine esclave, vous aurez la fenêtre de la session esclave en double exemplaire, une sur chaque machine.</p>
</div>
<div class="paragraph">
<p><strong>Conseil:</strong> Mettez ce <code>ray-daemon -p 1234</code> au démarrage de votre machine esclave.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ajouter_un_programme_non_fourni">Ajouter un programme non fourni</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Si le programme que vous voulez ajouter ne gère pas de projet à enregistrer, cliquez sur <strong>Exécutable</strong>, rentrez le nom de l&#8217;exécutable et cliquez sur <strong>Ok</strong>. Sinon suivez cet exemple.</p>
</div>
<div class="paragraph">
<p>Nous voulons ajouter ici Audacity à la session. Audacity est choisi à titre d&#8217;exemple parce qu&#8217;il est connu et généralement installé sur les distributions audio. Ce n&#8217;est pas forcément un programme très adapté à la modularité d&#8217;une session audio étant donné la façon dont il gère JACK.</p>
</div>
<div class="paragraph">
<p>Cliquez sur <strong>Exécutable</strong> (<em>ou Ctrl+E</em>).<br>
Dans la fenêtre d&#8217;ajout d&#8217;exécutable, Décochez la case <strong>Protocole NSM</strong>, tapez <code>audacity</code> dans le champ d&#8217;exécutable et cliquez sur <strong>Ok</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/audacity_executable.png" alt="Fenêtre d&#8217;ajout exécutable dûment remplie">
</div>
</div>
<div class="paragraph">
<p>Un nouveau client est créé, sa fenêtre de propriétés s&#8217;ouvre sur l&#8217;onglet Ray-Hack et Audacity se lance.</p>
</div>
<div class="paragraph">
<p>Dans Audacity, nous allons directement sauvegarder un projet vide dans le dossier du client. Le dossier du client se trouve dans le dossier de la session et porte le nom donné après <strong>Dossier:</strong> tout en haut de l&#8217;onglet Ray-Hack. Nous allons appeler le projet EXACTEMENT comme la session RaySession en cours.
Pour celà, dans Audacity, faites <em>Menu &#8594; Fichier &#8594; Sauvegarder le projet &#8594; Sauvegarder le projet</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/audacity_sauver_projet.png" alt="Sauvegarder le projet vide d&#8217;audacity">
</div>
</div>
<div class="paragraph">
<p>Cliquez sur <strong>Valider</strong> à l&#8217;éventuelle fenêtre d&#8217;avertissement.<br>
Dans la boîte de sauvegarde de fichiers qui s&#8217;ouvre, vous trouverez le dossier de la session en bas à gauche (voir <a href="#raccourcis_dossier_de_session">Fournir des raccourcis du dossier de la session</a>), cliquez dessus pour rentrer dedans. À l&#8217;intérieur de celui-ci vous devez voir le dossier du client tel qu&#8217;il figure en haut de l&#8217;onglet Ray-Hack, rentrez dans ce dossier. En haut à gauche de la boîte de sauvegarde, tapez le nom exact de votre session dans le champ <strong>Nom:</strong> puis validez.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/audacity_sauver_fichier.png"><img src="images/audacity_sauver_fichier.png" alt="Où sauvegarder le projet Audacity" width="640" height="480"></a>
</div>
</div>
<div class="paragraph">
<p>Fermez Audacity.<br>
En haut à droite de l&#8217;onglet Ray-Hack de la fenêtre de propriétés du client, cliquez sur <strong>Naviguer</strong>.<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/audacity_charger_config_file.png"><img src="images/audacity_charger_config_file.png" alt="Fenêtre de chargement du CONFIG_FILE" width="640" height="480"></a>
</div>
</div>
<div class="paragraph">
<p>sélectionnez le projet Audacity que vous venez de créer, son nom commence par le nom de la session et termine par <code>.aup</code>.</p>
</div>
<div class="paragraph">
<p>Si tout s&#8217;est bien passé, le champ <strong>Fichier de configuration</strong> est devenu <code>$RAY_SESSION_NAME.aup</code> et le champ <strong>Arguments</strong> est devenu <code>"$CONFIG_FILE"</code>.<br>
Cochez les cases <strong>Attendre une fenêtre avant d&#8217;être considéré comme prêt</strong>, <strong>Demander à l&#8217;utilisateur de fermer lui même le programme</strong> et <strong>Essayer de fermer gracieusement la fenêtre</strong>. Cliquez en bas à droite sur <strong>Sauvegarder les changements</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/audacity_ray_hack_final.png" alt="Onglet Ray-Hack du client audacity dûment rempli">
</div>
</div>
<div class="paragraph">
<p>Lancez le client Audacity et vérifiez que la fenêtre d&#8217;Audacity porte bien le nom de la session.<br>
Cliquez sur l&#8217;icône du client Audacity, dans le menu déroulant choisissez <strong>Sauvegarder comme modèle d&#8217;application</strong>, et rentrez <code>Audacity</code> dans le champ de la boîte de dialogue qui est apparue.
Maintenant lorsque vous voudrez lancer Audacity dans la session, vous n&#8217;aurez qu&#8217;à lancer le modèle Audacity depuis la fenêtre d&#8217;ajout d&#8217;applications.</p>
</div>
<div class="paragraph">
<p>Notez que le bouton de sauvegarde du client est derrière un point d&#8217;exclamation orange, celà signifie que RaySession n&#8217;est pas en mesure de sauvegarder son projet et qu&#8217;il faudra le faire vous même.</p>
</div>
<div class="paragraph">
<p>Selon le programme que vous souhaitez ajouter à la session, il est possible que ce ne soit pas toujours aussi facile. Certains programmes vont exiger un argument qui précède le fichier de configuration, dans ce cas tapez <code>mon_programme --help</code> ou <code>man mon_programme</code> pour savoir comment charger un projet au démarrage du programme, et adaptez celà dans le champ <strong>Arguments</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_importer_une_session_nsm">Importer une session NSM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour importer une session créée avec <strong>Non Session Manager</strong> ou <strong>New Session Manager</strong>, déplacez ou copiez le dossier de la session dans le dossier racine des sessions RaySession (par défaut ~/Ray Sessions). Ensuite cliquez sur <strong>Ouvrir une session</strong>, votre session doit apparaître dans la liste des sessions, double-cliquez dessus.</p>
</div>
<div class="paragraph">
<p>RaySession ne ré-écrira pas les clients ajoutés ou supprimés dans la fichier session.nsm, à partir du moment où vous ouvrez une session NSM avec RaySession, vous devez continuer avec RaySession.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="options_du_demon">Les options du démon</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les options du démon sont des services qui sont activables et désactivables via le bouton <strong>Contrôle</strong> en haut à droite de la fenêtre principale, ou via le menu <strong>options</strong> de la barre de menus.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/options_du_demon.png" alt="Options du démon">
</div>
</div>
<div class="paragraph">
<p>Voici le détail des différentes options:</p>
</div>
<div class="sect2">
<h3 id="raccourcis_dossier_de_session">Fournir des raccourcis du dossier de la session</h3>
<div class="paragraph">
<p>En production audio, on a souvent recours au fait de créer un fichier audio ou midi avec un programme pour finalement le charger dans un autre. Cette option offre quelque chose de purement pratique: un raccourci vers le dossier de la session en cours dans votre gestionnaire de fichiers et dans les boîtes de dialogue prévues pour aller chercher ou sauvegarder les fichiers. Ça permet tout simplement d&#8217;éviter de perdre du temps à parcourir l&#8217;arborescence de son dossier personnel pour chercher un fichier que vous avez mis dans le dossier de votre session puisque c&#8217;est bien sa place.<br>
Bien entendu, ce raccourci est supprimé lorsque la session est déchargée.<br>
Techniquement, les raccourcis sont créés pour GTK2, GTK3, QT4, QT5, KDE et FLTK.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cliché_automatique_à_la_sauvegarde">Cliché automatique à la sauvegarde</h3>
<div class="paragraph">
<p>Cette option est très loin d&#8217;être triviale, elle permet de prendre un cliché de la session après chaque sauvegarde. Celà signifie qu&#8217;en cas d&#8217;erreur technique ou artistique vous aurez la possibilité de retrouver la session dans l&#8217;état où elle se trouvait au moment du cliché.
Cette option nécessite d&#8217;avoir le programme <code>git</code> installé.
Voir <a href="#cliches">Les clichés</a> pour plus de détails.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mémoire_des_bureaux">Mémoire des bureaux</h3>
<div class="paragraph">
<p>Si cette option est enclenchée, RaySession sauvegardera (ou tentera de sauvegarder) le numéro du bureau virtuel sur lequel se trouvaient les fenêtres des clients à la sauvegarde de la session.<br>
Ainsi lorsque vous relancerez la session ou les clients, les fenêtres seront redispatchées sur les bureaux sur lequels elles figuraient.<br>
Cette option nécessite d&#8217;avoir le programme <code>wmctrl</code> installé pour fonctionner, et ne fonctionnera probablement pas avec Wayland.</p>
</div>
</div>
<div class="sect2">
<h3 id="option_scripts_de_session">Scripts de session</h3>
<div class="paragraph">
<p>Désactiver cette option pour n&#8217;actionner aucun script de session, et ainsi ouvrir, sauvegarder ou fermer une session en ignorant totalement les scripts associés à ces actions.<br>
Ces scripts sont utilisés par les sessions avec <a href="#memoire_de_la_configuration_de_jack">Mémoire de la configuration de JACK</a>.<br>
Voir <a href="#les_scripts_de_session">Les scripts de session</a> pour plus de détails.</p>
</div>
</div>
<div class="sect2">
<h3 id="_se_souvenir_de_létat_des_igus">Se souvenir de l&#8217;état des IGUs</h3>
<div class="paragraph">
<p>Cette option ne concerne que les client NSM capables d&#8217;afficher/cacher leur interface graphique. Sans cette option, certains d&#8217;entre eux vont toujours démarrer cachés, d&#8217;autres vont se souvenir s&#8217;ils étaient visibles à leur dernière sauvegarde. Avec cette option enclenchée, les interfaces graphiques seront affichées au moment où la session est prête si elles étaient visibles lors de la dernière sauvegarde ou si le client n&#8217;a jamais été lancé.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cliches">Les clichés</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les clichés nécessitent d&#8217;avoir le programme <code>git</code> installé, si vous n&#8217;avez pas <code>git</code>, le bouton de marche arrière n&#8217;apparaît pas et il est impossible de prendre un cliché ou d&#8217;y revenir.</p>
</div>
<div class="paragraph">
<p>Un cliché mémorise les fichiers et leurs contenu à un moment précis. Les fichiers volumineux et les fichiers ayant certaines extensions tels que les fichiers audio et video sont ignorés, sinon le processus de cliché serait trop long et celà doublerait inutilement la taille des dossiers de session. Celà n&#8217;est en fait pas très gênant, au contraire, puisque vos fichiers audio récents restent présents quand vous retournez à un cliché précédent.<br>
Si malgré tout le processus de cliché s&#8217;avère long, une fenêtre apparaît et vous pouvez annuler sans aucun risque le cliché en cours. Si vous l&#8217;annulez, Le cliché automatique n&#8217;aura plus lieu pour cette session.</p>
</div>
<div class="paragraph">
<p>L&#8217;intérêt des clichés réside dans le fait de pouvoir revenir à moment antérieur de la session, avant d&#8217;avoir eu cette idée artistique géniale qui s&#8217;est avérée nulle et non avenue, avant d&#8217;avoir tenté un redécoupage des échantillons au microcoscope qui a finalement tué toute forme de musicalité, avant qu&#8217;un programme plante pour une raison inconnue des services de police&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>N&#8217;ayez crainte, revenir à un cliché ne vous empêchera pas de revenir là où vous en êtiez.</p>
</div>
<div class="paragraph">
<p>Pour faire revenir la session à un cliché, cliquez sur le bouton de marche arrière situé à droite du bouton <strong>Exécutable</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cliche.png" alt="cliche">
</div>
</div>
<div class="paragraph">
<p>Sélectionnez le cliché vers lequel vous voulez revenir et cliquez sur <strong>Ok</strong>. Un nouveau cliché est pris, la session se ferme, le cliché voulu est rappelé et la session se ré-ouvre.</p>
</div>
<div class="paragraph">
<p>Il est également possible de faire revenir uniquement un client à un état précédent de la session en faisant un clique droit sur le client, puis <strong>Retourner à un état précédent</strong>.<br>
Si vous le souhaitez vous pouvez éditer pour chaque client les fichiers ignorés par les clichés dans la fenêtre de propriétés du client.</p>
</div>
<div class="paragraph">
<p>Avec l&#8217;option <strong>Cliché automatique à la sauvegarde</strong>, un cliché est pris juste après chaque sauvegarde de la session, sauf s&#8217;il n&#8217;y a aucun changement depuis le cliché précédent. Pour prendre un cliché à un autre moment, cliquez sur l&#8217;icône de marche arrière à droite du bouton <strong>Exécutable</strong> et sur <strong>Prendre un cliché maintenant</strong>, celà présente l&#8217;avantage de pouvoir nommer le cliché et d&#8217;avoir ainsi un repère temporel plus parlant que la date et l&#8217;heure du cliché.<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="les_scripts_de_session">Les scripts de session</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les scripts de session permettent de programmer des actions personnalisés à l&#8217;ouverture, à la sauvegarde et à la fermeture de la session. Ils sont notamment utilisés pour les sessions avec <a href="#memoire_de_la_configuration_de_jack">Mémoire de la configuration de JACK</a>.<br>
Des connaissances en script shell sont nécessaires pour éditer ces scripts, mais tout un chacun peut les utiliser.</p>
</div>
<div class="paragraph">
<p>Les scripts de session se trouvent dans un dossier <code>ray-scripts</code> situé soit dans un dossier de la session, soit dans un dossier parent.<br>
Par exemple, pour une session étant dans:<br>
<code>~/Ray Sessions/avec_script_de_foo/ma session</code></p>
</div>
<div class="paragraph">
<p>le dossier des scripts de session peut-être<br>
<code>~/Ray Sessions/avec_script_de_foo/ma session/ray-scripts</code><br>
<code>~/Ray Sessions/avec_script_de_foo/ray-scripts</code><br>
<code>~/Ray Sessions/ray-scripts</code><br>
<code>~/ray-scripts</code></p>
</div>
<div class="paragraph">
<p>L&#8217;intérêt d&#8217;un tel comportement est de pouvoir scripter un ensemble de sessions sans avoir à y recopier les scripts, mais surtout de livrer une session non scriptée lorsqu&#8217;on la transfère à quelqu&#8217;un d&#8217;autre pour un travail collectif.<br>
Seul le dossier de scripts le plus près de la session dans l&#8217;arborescence sera considéré. Ainsi, un dossier <code>ray-scripts</code> vide dans une session désactivera les scripts pour cette session.</p>
</div>
<div class="paragraph">
<p>Pour éditer les scripts, commencez par créer une session avec le modèle <strong>avec les scripts de base</strong>, il s&#8217;agit d&#8217;un modèle de session avec des scripts ne comprenant absolument aucune action particulière. Rendez-vous dans le dossier <code>ray-scripts</code> dans le dossier de la session, vous y trouverez les fichiers <code>load.sh</code>, <code>save.sh</code> et <code>close.sh</code>. Dans chacun de ces scripts, <code>ray_control run_step</code> correspond à l&#8217;action normale effectuée (selon le script: charger, sauvegarder ou fermer la session). Si un de ces trois scripts ne vous est d&#8217;aucune utilité, supprimez le, ce sera du temps gagné de ne pas passer par ce script.</p>
</div>
<div class="paragraph">
<p>Les fichiers scripts doivent impérativement être exécutables pour fonctionner.</p>
</div>
<div class="paragraph">
<p>Vous aurez probablement besoin de l&#8217;utilitaire en ligne de commande <code>ray_control</code> pour effectuer des actions en rapport avec tel ou tel client. tapez <code>ray_control --help</code> pour connaître toutes ses possibilités.</p>
</div>
<div class="paragraph">
<p>Le modèle de session à mémoire de configuration de JACK utilise les scripts de session, mais on peut aussi imaginer moult actions possibles selon vos besoins et vos envies, par exemple :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>définir un ordre bien précis de lancement des clients à l&#8217;ouverture de la session (un exemple est fourni dans le code source)</p>
</li>
<li>
<p>faire une copie de sauvegarde de la session sur un disque dur externe à chaque fermeture</p>
</li>
<li>
<p>envoyer un raccourci <em>Ctrl+S</em> aux fenêtres des clients non sauvegardables à la sauvegarde de la session (un exemple est fourni dans le code source)</p>
</li>
<li>
<p>Allumer la lumière rouge à l&#8217;entrée du studio à l&#8217;ouverture, l&#8217;éteindre à la fermeture</p>
</li>
<li>
<p>Lancer la machine à café à la fermeture de la session (exemple débile, allez donc appuyer sur le bouton de la cafetière, de toutes façons faudra changer le filtre !)</p>
</li>
<li>
<p>Faire beaucoup, beaucoup, beaucoup d&#8217;erreurs qui feront planter votre session, soyez prudents évidemment !</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memoire_de_la_configuration_de_jack">Mémoire de la configuration de JACK</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il est possible grâce aux scripts de session de rappeler automatiquement la configuration de JACK spécifique à une session avant de la charger.
Ce comportement pourra rappeler à certains le fonctionnement des studios LADISH, en beaucoup mieux fait, du moins c&#8217;est ce qui est espéré.</p>
</div>
<div class="sect2">
<h3 id="_dans_quels_cas_lutiliser">Dans quels cas l&#8217;utiliser</h3>
<div class="paragraph">
<p>Celà peut s&#8217;avérer utile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Si vous avez besoin d&#8217;utiliser une interface audio spécifique pour la session</p>
</li>
<li>
<p>Si vous travaillez sur de multiple projets avec des fréquences d&#8217;échantillonage différentes (telle session sur 44100 Hz, telle autre sur 48000 Hz).<br>
Ainsi celà vous évitera d&#8217;avoir à reconfigurer, arrêter et redémarrer JACK vous même, ou encore d&#8217;éviter d&#8217;oublier de le faire et de se faire insulter par certains programmes.</p>
</li>
<li>
<p>Si vous voulez éviter de charger une session très gourmande en DSP (par exemple en phase de mixage) avec un tampon trop petit (128 par exemple).<br>
Notez que sur la plupart des interfaces audio, il est possible de changer la taille du tampon à chaud (sans redémarrer JACK).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_utilisation">Utilisation</h3>
<div class="paragraph">
<p>Il est nécessaire que l&#8217;option <a href="#option_scripts_de_session">Scripts de session</a> soit enclenchée (Cette option est enclenchée par défaut).</p>
</div>
<div class="paragraph">
<p>Pour utiliser le mémoire de configuration de JACK, créez une nouvelle session à partir du modèle <strong>Avec mémoire de la configuration de JACK</strong>.<br>
Il s&#8217;agit en fait d&#8217;une session scriptée (voir <a href="#les_scripts_de_session">Les scripts de session</a>) qui lance un script fourni avec RaySession, mais qui lui est complètement externe, ainsi RaySession n&#8217;a toujours aucun rapport direct avec JACK.</p>
</div>
<div class="paragraph">
<p>Lisez la fenêtre d&#8217;informations à ce sujet puis validez. JACK redémarre puis votre session se lance.</p>
</div>
</div>
<div class="sect2">
<h3 id="_principe_de_fonctionnement">Principe de fonctionnement</h3>
<div class="paragraph">
<p>À chaque fois que la session est sauvegardée, la configuration de JACK est sauvegardée dans la session, dans le fichier <code>jack_parameters</code>.<br>
Avant l&#8217;ouverture de la session, JACK est redémarré si la configuration de la session est différente de la configuration actuelle de JACK.<br>
Après la fermeture de la session, JACK est si nécessaire redémarré avec la configuration en cours avant l&#8217;ouverture.</p>
</div>
<div class="paragraph">
<p>La configuration des ponts <strong>PulseAudio &#8594; JACK</strong> est également sauvegardée et restaurée avec la configuration de JACK.</p>
</div>
<div class="paragraph">
<p>Si vous ouvrez cette session après l&#8217;avoir copiée sur un autre ordinateur, la configuration de JACK ne sera pas rappellée mais sera écrasée lors de la sauvegarde. Seule la fréquence d&#8217;échantillonage de la session sera utilisée.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cas_particuliers">Cas particuliers</h3>
<hr>
<div class="paragraph">
<p><strong>Pour ouvrir une session sans recharger sa configuration de JACK:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>désactivez l&#8217;option <a href="#option_scripts_de_session">Scripts de session</a></p>
</li>
<li>
<p>ouvrez la session</p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Pour changer la configuration de JACK d&#8217;une session:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Démarrez JACK avec la configuration désirée</p>
</li>
<li>
<p>Désactivez l&#8217;option <a href="#option_scripts_de_session">Scripts de session</a></p>
</li>
<li>
<p>Ouvrez la session</p>
</li>
<li>
<p>Ré-activez l&#8217;option <a href="#option_scripts_de_session">Scripts de session</a></p>
</li>
<li>
<p>Sauvegardez la session</p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Pour rendre une ancienne session sensible à la configuration de JACK</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>copiez le dossier <code>ray-scripts</code> d&#8217;une session avec mémoire de la configuration de JACK dans le dossier de la session</p>
</li>
<li>
<p>Activez l&#8217;option <a href="#option_scripts_de_session">Scripts de session</a></p>
</li>
<li>
<p>Ouvrez la session</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>ou</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>déplacez la session dans un sous-dossier contenant le dossier <code>ray-scripts</code> adhoc</p>
</li>
<li>
<p>Ouvrez la session</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sous_le_capot">Sous le capot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>RaySession n&#8217;est en réalité qu&#8217;une interface graphique pour ray-daemon. Lorsque vous lancez RaySession, l&#8217;interface graphique lance le démon et s&#8217;y connecte, et elle arrête le démon lorsqu&#8217;on la ferme. L&#8217;interface graphique et le démon communiquent entre eux par messages OSC (Open Sound Control), comme c&#8217;est le cas entre le démon et les clients NSM. Ainsi, vous pouvez connecter plusieurs interfaces graphiques à un démon, même à distance. Tapez <code>raysession --help</code> pour voir comment faire.</p>
</div>
<div class="paragraph">
<p>Il n&#8217;est pas interdit d&#8217;avoir plusieurs instances de démon lancés simultanément, ainsi si vous lancez RaySession alors qu&#8217;une instance est déjà lancée, celle-ci lancera un nouveau démon. Toutefois, cette façon de travailler étant peu commune, l&#8217;utilisation d&#8217;un seul démon est favorisée. Ainsi, si un démon tourne et qu&#8217;il n&#8217;a aucune interface graphique attachée, raysession se connectera à ce démon par défaut.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ray_control">Contrôler RaySession en ligne de commande</h2>
<div class="sectionbody">
<div class="paragraph">
<p>la commande <code>ray_control</code> vous permet de faire a peu près tout ce qu&#8217;il est possible de faire avec l&#8217;interface graphique, et même un peu plus. tapez <code>ray_control --help-all</code> pour connaître l&#8217;ensemble des possibilités.</p>
</div>
<div class="paragraph">
<p>Au cas où il y a plusieurs démons lancés (voir <a href="#sous_le_capot">Sous le capot</a>), <code>ray_control</code> ne considerera que celui qui a été lancé en premier, sauf si vous spécifiez son port OSC avec l&#8217;option <code>--port</code> ou la variable d&#8217;environnement RAY_CONTROL_PORT.</p>
</div>
<div class="paragraph">
<p>On pourrait penser qu&#8217;il n&#8217;y a pas d&#8217;intérêt à utiliser <code>ray_control</code> puisque la commande <code>oscsend</code> permet d&#8217;envoyer un message OSC au démon, c&#8217;est faux.<br>
D&#8217;une part, parce que <code>oscsend</code> permet d&#8217;envoyer des messages mais pas d&#8217;obtenir des informations de manière simple (quels sont les clients actifs ? quel est l&#8217;executable de tel client ? &#8230;&#8203;), d&#8217;autre part parce que la commande <code>ray_control</code> se terminera lorsque l&#8217;action demandée sera effectuée, par exemple <code>ray_control open_session ma_session</code> se terminera lorsque la session sera chargée.</p>
</div>
<div class="paragraph">
<p>Pensez à affecter <code>ray_control save</code> à un raccourci global de votre environnement de bureau (<em>Ctrl+Meta+S</em>), celà vous fera gagner un temps fou !</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_foire_aux_questions">Foire aux questions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Est-il toujours intéressant de lancer Ardour (ou un autre DAW compatible NSM) directement plutôt que dans RaySession ?</strong></p>
<div class="paragraph">
<p>Sauf pour un projet vraiment tout petit, Non.<br>
Si vous utilisez Ardour, lancez le toujours depuis RaySession, d&#8217;une part le cliché automatique à la sauvegarde peut vous être d&#8217;un secours inespéré, d&#8217;autre part, vous n&#8217;êtes pas à l&#8217;abri d&#8217;avoir besoin d&#8217;un autre programme même si vous ne l&#8217;aviez pas prévu.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-02-22 23:47:36 +0100
</div>
</div>
</body>
</html>